---
import Main from '../layouts/main.astro';
import Logo from '../components/logo.astro';
import Github from '../icons/github.astro';

import BranchTypesDiagram from '../sections/branch-types-diagram.svg';
import BranchTypesTable from '../sections/branch-types-table.astro';

import BranchingWorkflowsDiagram from '../sections/branching-workflows-diagram.svg';
import BranchingWorkflowsTable from '../sections/branching-workflows-table.astro';
---

<Main className='text-brand-text'>
  <div class='flex flex-col min-h-screen h-full'>
    <Logo className='w-full sm:max-w-96' />
    <div class='flex flex-col gap-48 pt-8 pb-32'>
      <section>
        <h1 class='section-h1 text-center sm:text-left'>
          A closer look at database branches: how they work and what to keep in mind when choosing a serverless database
          provider.
        </h1>
        <p class='text-lg mb-8 text-center sm:text-left'>
          A more detailed look at database branching and provider offerings can be found in the report.
        </p>
        <div class='flex justify-center sm:justify-start'>
          <a href='/reports/branching' class='px-6 py-3 bg-brand-salmon no-underline rounded-sm !text-brand-text'
            >Read Report</a
          >
        </div>
      </section>
      <section>
        <h2 class='section-h2 text-center'>Branch Types</h2>
        <p class='section-p text-center mx-auto'>
          A database branch is like a Git branch, but it includes two distinct attributes: data and schema. Different
          providers offer different types when creating branches.
        </p>
        <div class='mx-auto max-w-xl mb-16'>
          <img src={BranchTypesDiagram.src} alt='branch types diagram' />
        </div>
        <div class='mx-auto max-w-2xl'>
          <BranchTypesTable />
        </div>
      </section>

      <section class='block lg:flex lg:flex-row items-center gap-16'>
        <div class='max-w-[280px] lg:min-w-[360px] mx-auto mb-16 lg:mb-0'>
          <img src={BranchingWorkflowsDiagram.src} alt='branching workflows diagram' />
        </div>
        <div>
          <h2 class='section-h2 text-center lg:text-left'>Branching Workflows</h2>
          <p class='section-p text-center lg:text-left'>
            A database branch can be linked with a codebase branch so database and application changes are synced. This
            can be helpful in one-to-one relationships, but can be unhelpful in one-to-many.
          </p>
          <div class='mx-auto max-w-2xl'>
            <BranchingWorkflowsTable />
          </div>
        </div>
      </section>
      <section>
        <h2 class='text-2xl sm:text-4xl font-heading uppercase font-bold mb-4 text-center sm:text-left'>contribute</h2>
        <p class='text-lg mb-8 text-center sm:text-left'>
          Databranching is an Open-source MIT licensed project. Contributions from all providers are welcome. If you'd
          like to add a provider, or make changes to existing providers, follow the instructions in the repository
          <a href='https://github.com/databranching/databranching' class='text-brand-salmon underline'> README</a>.
        </p>
        <div class='flex justify-center sm:justify-start'>
          <a
            href='https://github.com/databranching/databranching'
            class='inline-flex gap-2 items-center px-6 py-3 bg-brand-salmon no-underline rounded-sm !text-brand-text'
          >
            <Github />
            Data Branching</a
          >
        </div>
      </section>
    </div>
  </div>
</Main>
